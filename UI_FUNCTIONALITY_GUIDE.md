# 🎮 host27o.com 完整界面功能說明

## 📱 界面結構總覽

### 主要頁面（Tab 導航）

應用程式使用底部 Tab 導航，包含三個主要頁面：

1. **🏠 首頁 (Home)** - 牌局列表管理
2. **🎯 目前牌局 (Game)** - 牌局詳細操作
3. **⚙️ 設定 (Settings)** - 應用程式設定

---

## 🏠 首頁 (HomeScreen)

### 界面元素

#### 1. **頂部標題區**
- **標題**: "Host27o" 或 "牌局管理"
- **副標題**: 顯示應用程式描述

#### 2. **牌局列表區**
- **標題**: "牌局列表"
- **新增按鈕**: `+` 按鈕（位於標題右側，無背景色）
  - **功能**: 開啟「新增牌局」視窗

#### 3. **牌局卡片 (Game Card)**

每個牌局卡片顯示：

- **牌局名稱**: 顯示牌局標題
- **Host 名稱**: 顯示主辦人
- **盲注資訊**: 顯示盲注金額
- **狀態標籤**: 
  - 🟢 **進行中** (Active) - 深色背景 `#202124`，白色文字
  - ⚪ **已結束** (Ended) - 灰色背景
- **操作按鈕**:
  - **進入按鈕**: 點擊卡片進入牌局詳細頁面
  - **刪除按鈕**: 刪除牌局（需確認）

#### 4. **底部 Tab 導航**
- 三個 Tab：首頁、目前牌局、設定

---

## 🎯 目前牌局 (GameScreen)

### 界面元素

#### 1. **頂部標題區**
- **左側**: Host27o Logo + 設定按鈕
- **中間**: 牌局名稱（置中顯示）
- **右側**: 語言切換按鈕（地球圖標）

#### 2. **牌局資訊卡片**
- **Host**: 主辦人資訊
- **盲注**: 盲注金額
- **模式**: 服務費模式 / 入場費模式

#### 3. **玩家列表區**

**玩家卡片顯示**:
- **玩家名稱**
- **狀態標籤**:
  - 🟢 **進行中** - 深色背景 `#202124`，白色文字，無邊框
  - ⚪ **已兌現** - 灰色背景
- **盈虧金額**: 
  - 正數顯示綠色 `#10B981`
  - 負數顯示紅色 `#EF4444`
- **操作**: 點擊玩家卡片查看詳細資訊

**玩家操作**:
- **滑動刪除**: 左滑顯示刪除按鈕
- **點擊查看**: 點擊卡片開啟玩家詳細視窗

#### 4. **固定按鈕區（底部）**

**主要功能按鈕（網格布局）**:

1. **💰 買入 (Buy In)**
   - **功能**: 開啟「買入」視窗
   - **用途**: 記錄玩家買入金額

2. **💵 兌現 (Cash Out)**
   - **功能**: 開啟「兌現」視窗
   - **用途**: 記錄玩家兌現金額，標記為「已兌現」

3. **🎫 入場費 (Entry Fee)**
   - **功能**: 開啟「入場費」視窗
   - **用途**: 記錄入場費收入（入場費模式）

4. **💸 服務費 (Service Fee / Rake)**
   - **功能**: 開啟「服務費」視窗
   - **用途**: 記錄服務費收入（服務費模式）

5. **📝 支出 (Expense)**
   - **功能**: 開啟「支出」視窗
   - **用途**: 記錄各類支出（餐飲、交通、其他等）

6. **🛡️ 保險 (Insurance)**
   - **功能**: 開啟「保險記錄」視窗
   - **用途**: 查看和管理保險記錄

7. **👤 發牌員 (Dealer)**
   - **功能**: 開啟「發牌員」視窗
   - **用途**: 管理發牌員、記錄工時、計算薪金

**所有按鈕樣式**:
- 圓角卡片設計
- 帶有陰影效果
- 圖標 + 文字標籤
- 點擊無過渡動畫（立即響應）

#### 5. **底部 Tab 導航（特殊功能）**

當在「目前牌局」頁面時，底部 Tab 上方會顯示兩個按鈕：

1. **📊 牌局總結**
   - **功能**: 開啟「牌局總結」視窗
   - **顯示**: 完整的財務統計、玩家盈虧、發牌員薪金等
   - **文字顏色**: 淺色模式 `#64748B`

2. **❌ 結束牌局**
   - **功能**: 開啟「結束牌局」確認視窗
   - **樣式**: 紅色危險按鈕
   - **確認後**: 標記牌局為「已結束」

---

## ⚙️ 設定 (SettingsScreen)

### 界面元素

#### 1. **頂部標題**
- "設定" 或 "Settings"

#### 2. **設定選項卡片**

**外觀設定**:
- **深色/淺色模式切換**: Switch 開關
  - 淺色模式：白色背景，深色文字
  - 深色模式：深色背景，白色文字

**語言設定**:
- **語言選擇按鈕**: 開啟語言選擇視窗
- **選項**: 
  - 繁體中文 (zh-TW)
  - 簡體中文 (zh-CN)

**帳號設定**:
- **登入狀態**: 顯示當前登入帳號
- **登出按鈕**: 登出當前帳號

**協作功能**:
- **協作狀態**: 顯示協作連接狀態
- **協作按鈕**: 開啟協作功能視窗

**隱私設定**:
- **記住登入**: Switch 開關
- **允許分析**: Switch 開關

**資料管理**:
- **清除資料**: 清除所有本地資料
- **匯出資料**: 匯出牌局資料

---

## 🎨 主要功能視窗 (Modals)

### 1. **新增牌局 (NewGameModal)**

**功能**: 創建新牌局

**輸入欄位**:
- **牌局名稱**: 文字輸入
- **Host 名稱**: 文字輸入
- **盲注金額**: 數字輸入
- **模式選擇**:
  - 服務費模式
  - 入場費模式

**按鈕**:
- **確認新增**: 創建牌局
- **取消**: 關閉視窗

---

### 2. **買入 (BuyInModal)**

**功能**: 記錄玩家買入

**輸入欄位**:
- **玩家名稱**: 文字輸入（背景色：淺色模式 `#F8F9FA`）
- **買入金額**: 數字輸入（背景色：淺色模式 `#F8F9FA`）

**選擇**:
- **選擇現有玩家**: 從列表選擇
- **新增玩家**: 輸入新玩家名稱

**按鈕**:
- **確認買入**: 
  - 背景色：淺色模式 `#E2E8F0`
  - 文字顏色：`#64748B`
  - 帶有陰影效果

---

### 3. **兌現 (CashOutModal)**

**功能**: 記錄玩家兌現

**輸入欄位**:
- **玩家選擇**: 從進行中的玩家選擇
- **兌現金額**: 數字輸入

**顯示**:
- **買入總額**: 顯示玩家總買入
- **當前盈虧**: 顯示當前盈虧

**按鈕**:
- **確認兌現**: 標記玩家為「已兌現」

---

### 4. **支出 (ExpenseModal)**

**功能**: 記錄各類支出

**輸入欄位**:
- **描述**: 支出描述（背景色：淺色模式 `#F8F9FA`）
- **金額**: 支出金額（背景色：淺色模式 `#F8F9FA`）

**支出類別按鈕**:
- **餐飲** 🍔
- **交通** 🚕
- **其他** 📦

**按鈕樣式**:
- 無邊框
- 帶有陰影效果
- 選中時邊框顏色：淺色模式 `#E2E8F0`

**按鈕**:
- **確認新增**: 記錄支出

---

### 5. **服務費 (RakeModal)**

**功能**: 記錄服務費收入

**輸入欄位**:
- **金額**: 服務費金額（背景色：淺色模式 `#F8F9FA`）

**按鈕**:
- **確認新增**: 記錄服務費

---

### 6. **入場費 (EntryFeeModal)**

**功能**: 記錄入場費收入

**輸入欄位**:
- **玩家選擇**: 選擇玩家
- **入場費金額**: 數字輸入

**按鈕**:
- **確認新增**: 記錄入場費

---

### 7. **保險 (InsuranceModal)**

**功能**: 新增保險記錄

**輸入欄位**:
- **保險金額**: 數字輸入（可為正負值）

**分成設定**:
- **預設分成**: 使用預設分成比例
- **自訂分成**: 自訂分成比例

**分成夥伴**:
- **新增夥伴**: 輸入夥伴名稱和分成比例
- **分成列表**: 顯示所有分成夥伴

**按鈕**:
- **新增夥伴**: 灰色背景 `#303134`，白色文字
- **確認新增**: 記錄保險

---

### 8. **發牌員 (DealerModal)**

**功能**: 管理發牌員

**輸入欄位**:
- **發牌員名稱**: 文字輸入（背景色：淺色模式 `#F8F9FA`）

**發牌員列表**:
- **發牌員名稱**
- **狀態**: 發牌中 / 已下班
- **操作**: 編輯、刪除

**按鈕**:
- **新增發牌員**: 
  - 文字顏色：`#64748B`
  - 字體粗細：600
  - 背景色：淺色模式 `#E2E8F0`
  - 帶有陰影效果

---

### 9. **牌局總結 (GameSummaryModal)**

**功能**: 顯示完整的牌局統計

**顯示內容**:
- **玩家盈虧總計**
- **發牌員薪金總計**
- **支出總計**
- **服務費/入場費總計**
- **保險損益**
- **Host 淨利潤**

**按鈕**:
- **導出牌局總結**: 
  - 文字顏色：淺色模式 `#64748B`（與「確認買入」相同）
- **關閉**: 關閉視窗

---

### 10. **結束牌局 (EndGameModal)**

**功能**: 確認結束牌局

**顯示內容**:
- **確認訊息**: "確定要結束此牌局嗎？"
- **警告**: 結束後無法再修改

**按鈕**:
- **確認結束**: 紅色危險按鈕，帶有陰影
- **取消**: 關閉視窗

---

## 🎨 顏色系統

### 淺色模式 (Light Mode)

| 元素 | 顏色代碼 | 用途 |
|------|---------|------|
| 背景 | `#FFFFFF` | 主背景 |
| 表面 | `#F8FAFC` | 卡片背景 |
| 文字 | `#1E293B` | 主要文字 |
| 次要文字 | `#64748B` | 次要文字 |
| 邊框 | `#E2E8F0` | 邊框、選中狀態 |
| 輸入框背景 | `#F8F9FA` | 輸入欄位背景 |
| 按鈕背景 | `#E2E8F0` | 主要按鈕 |
| 按鈕文字 | `#64748B` | 按鈕文字 |
| 成功/正數 | `#10B981` | 綠色 |
| 錯誤/負數 | `#EF4444` | 紅色 |
| 進行中狀態 | `#202124` | 深色背景，白色文字 |

### 深色模式 (Dark Mode)

| 元素 | 顏色代碼 | 用途 |
|------|---------|------|
| 背景 | `#1A1A1A` | 主背景 |
| 表面 | `#202124` | 卡片背景 |
| 文字 | `#FFFFFF` | 主要文字 |
| 次要文字 | `#D1D5DB` | 次要文字 |
| 邊框 | `#3A3A3A` | 邊框 |
| 按鈕背景 | `#303134` | 主要按鈕 |
| 成功/正數 | `#FFFFFF` | 白色 |
| 錯誤/負數 | `#EF4444` | 紅色 |

---

## 🔄 網頁運作流程

### 1. **應用程式啟動**

```
啟動 → WelcomeScreen（歡迎頁）→ LoginScreen（登入）→ HomeScreen（首頁）
```

### 2. **狀態管理**

使用 **Context API + useReducer** 管理全局狀態：

- **GameContext**: 管理牌局、玩家、發牌員、支出等資料
- **ThemeContext**: 管理主題（深色/淺色模式）
- **LanguageContext**: 管理語言（繁體/簡體中文）
- **AuthContext**: 管理使用者認證
- **ToastContext**: 管理提示訊息

### 3. **資料存儲**

- **AsyncStorage**: 本地存儲牌局資料
- **Firebase**: 使用者認證和雲端同步（可選）

### 4. **導航流程**

```
首頁 (Home)
  ↓ 點擊牌局卡片
目前牌局 (Game)
  ↓ 點擊設定
設定 (Settings)
```

### 5. **牌局操作流程**

```
1. 新增牌局 → 輸入牌局資訊 → 確認
2. 進入牌局 → 查看玩家列表
3. 買入 → 選擇/新增玩家 → 輸入金額 → 確認
4. 記錄操作 → 支出/服務費/保險/發牌員
5. 兌現 → 選擇玩家 → 輸入金額 → 確認
6. 查看總結 → 牌局總結視窗
7. 結束牌局 → 確認結束
```

### 6. **資料計算邏輯**

**玩家盈虧**:
```
盈虧 = 兌現金額 - 買入總額
```

**發牌員薪金**:
```
薪金 = 小費合計 × 佔成比例 + 基本時薪 × 工時
```

**Host 淨利潤**:
```
淨利潤 = 服務費/入場費 + 保險損益 - 支出 - 發牌員薪金
```

---

## 📱 響應式設計

### 輸入欄位樣式

**淺色模式**:
- 背景色: `#F8F9FA`
- 邊框: `#E5E7EB`（預設）
- 選中邊框: `#E2E8F0`（聚焦時）
- 邊框寬度: 1px

**深色模式**:
- 背景色: `#1A1A1A`
- 邊框: `#3A3A3A`
- 選中邊框: 主題主色

### 按鈕樣式

**主要按鈕**:
- 背景色: `#E2E8F0`（淺色）/ `#303134`（深色）
- 文字顏色: `#64748B`（淺色）/ `#FFFFFF`（深色）
- 陰影: 有
- 圓角: 中等

**危險按鈕**:
- 背景色: `#EF4444`（紅色）
- 文字顏色: `#FFFFFF`
- 陰影: 有

### 卡片樣式

- 圓角: 中等
- 陰影: 有
- 懸停效果: 淺色提升（Web 平台）

---

## 🎯 特殊功能

### 1. **協作功能**

- **協作按鈕**: 位於牌局頁面頂部
- **功能**: 多人協作管理同一牌局
- **顯示**: 協作狀態指示器

### 2. **語言切換**

- **按鈕位置**: 各頁面頂部（地球圖標）
- **支援語言**: 繁體中文、簡體中文
- **即時切換**: 無需重啟應用

### 3. **主題切換**

- **位置**: 設定頁面
- **模式**: 深色/淺色
- **即時切換**: 所有界面立即更新

### 4. **資料持久化**

- **本地存儲**: 使用 AsyncStorage
- **自動保存**: 每次操作自動保存
- **資料恢復**: 應用重啟後自動載入

---

## 🔍 界面截圖說明

由於無法生成實際截圖，以下是各頁面的視覺描述：

### 首頁截圖描述

```
┌─────────────────────────────┐
│      Host27o                │
│   牌局管理應用程式          │
├─────────────────────────────┤
│  牌局列表          [+]      │
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ 牌局名稱                 │ │
│ │ Host: 主辦人             │ │
│ │ 盲注: $10/$20            │ │
│ │ [進行中] [進入] [刪除]   │ │
│ └─────────────────────────┘ │
│ ┌─────────────────────────┐ │
│ │ 另一個牌局...            │ │
│ └─────────────────────────┘ │
├─────────────────────────────┤
│ [🏠首頁] [🎯牌局] [⚙️設定] │
└─────────────────────────────┘
```

### 目前牌局頁面截圖描述

```
┌─────────────────────────────┐
│ [Logo] 牌局名稱    [🌐]      │
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ Host: 主辦人            │ │
│ │ 盲注: $10/$20            │ │
│ │ 模式: 服務費模式         │ │
│ └─────────────────────────┘ │
├─────────────────────────────┤
│ 玩家列表                    │
│ ┌─────────────────────────┐ │
│ │ 玩家A  [進行中] +$500   │ │
│ │ 玩家B  [已兌現] -$200   │ │
│ └─────────────────────────┘ │
├─────────────────────────────┤
│ ┌──────┐ ┌──────┐ ┌──────┐ │
│ │💰買入│ │💵兌現│ │🎫入場│ │
│ └──────┘ └──────┘ └──────┘ │
│ ┌──────┐ ┌──────┐ ┌──────┐ │
│ │💸服務│ │📝支出│ │🛡️保險│ │
│ └──────┘ └──────┘ └──────┘ │
│ ┌──────┐                    │
│ │👤發牌│                    │
│ └──────┘                    │
├─────────────────────────────┤
│ [📊總結] [❌結束]           │
│ [🏠首頁] [🎯牌局] [⚙️設定] │
└─────────────────────────────┘
```

---

## 📝 備註

- 所有按鈕點擊無過渡動畫（立即響應）
- 輸入欄位聚焦時邊框顏色會改變
- 卡片懸停時有輕微提升效果（Web 平台）
- 所有資料自動保存到本地存儲
- 支援離線使用（無需網路連接）

---

**最後更新**: 2025-11-30

